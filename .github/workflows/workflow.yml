name: Common Workflow

on:
  workflow_call:
    inputs:
      node_version:
        required: true
        type: number
      angular_version:
        default: 16
        type: number

jobs:
  prepare_environment:
    uses: ./.github/workflows/prepare_env.yml
    with:
      node_version: ${{ inputs.node_version }}
  install_dependencies:
    needs: prepare_environment
    uses: ./.github/workflows/install_deps.yml
    with:
      angular_version: ${{ inputs.angular_version }}
  build:
    needs: [prepare_environment, install_dependencies]
    uses: ./.github/workflows/build.yml
    with:
      angular_version: ${{ inputs.angular_version }}
