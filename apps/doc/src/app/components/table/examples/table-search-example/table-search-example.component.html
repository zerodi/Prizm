<div>
  Показать поиск:
  <prizm-toggle [formControl]="control"></prizm-toggle>
</div>
<br />
<prizm-scrollbar class="scrollable" visibility="hidden">
  <table class="table" [columns]="columns" prizmTable>
    <thead>
      <tr prizmThGroup>
        <th *prizmHead="'code'" [resizable]="true" rowspan="2" prizmTh>Код</th>
        <th *prizmHead="'name'" [resizable]="true" prizmTh>Наименование</th>
        <th *prizmHead="'category'" rowspan="2" prizmTh>Категория</th>
        <th *prizmHead="'count'" rowspan="2" prizmTh>Количество</th>
      </tr>
      <tr *ngIf="control.value" prizmThGroup>
        <th class="extra-border" [resizable]="true" prizmTh>
          <input #input (enter)="search($event, 'name')" prizmInput placeholder="Поиск" />
          <button
            [interactive]="true"
            (click)="input.value = ''; search('', 'name')"
            prizmInputIconButton="delete-content"
          ></button>
          <button
            [interactive]="true"
            (click)="search(input.value, 'name')"
            prizmInputIconButton="magnifying-glass"
          ></button>
        </th>
      </tr>
    </thead>

    <tbody [data]="searchAllowedProducts" prizmTbody>
      <tr class="row" *prizmRow="let item of searchAllowedProducts; let i = index" prizmTr>
        <td class="format__number" *prizmCell="'code'" prizmTd>
          {{ item.code | spaceNumber : '0.0-0' }}
        </td>
        <td *prizmCell="'name'" prizmTd>{{ item.name }}</td>
        <td *prizmCell="'category'" prizmTd>{{ item.category }}</td>
        <td class="format__number" *prizmCell="'count'" prizmTd>{{ item.count | spaceNumber : '0.0-0' }}</td>
      </tr>
    </tbody>
  </table>
</prizm-scrollbar>
